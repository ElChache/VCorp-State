{"version":3,"sources":["vcorpstate/components/launch_agents_dialog.cljs"],"mappings":"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","names":["vcorpstate.components.launch-agents-dialog/role-counter-row","role","role-counts","count","cljs.core.get","re-frame.core/dispatch","vcorpstate.components.launch-agents-dialog/agent-role-list","roles","cljs.core/seq","iter__5480__auto__","s__14005","cljs.core/LazySeq","temp__5804__auto__","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__14007","cljs.core/chunk-buffer","i__14006","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__14004","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core/vals","vcorpstate.components.launch-agents-dialog/dialog-buttons","e","vcorpstate.components.launch-agents-dialog/dialog-content","vcorpstate.components.launch-agents-dialog/launch-agents-dialog","cljs.core/deref","is-open?","re_frame.core.subscribe","cljs.core/chunk-first"],"sourcesContent":["(ns vcorpstate.components.launch-agents-dialog\n  (:require [re-frame.core :as rf]))\n\n(defn role-counter-row\n  \"Row component for a single role with +/- counter\"\n  [role role-counts]\n  (let [count (get role-counts (:short_name role) 0)]\n    [:div {:class \"flex items-center justify-between py-3 px-4 border-b border-gray-100 last:border-b-0 hover:bg-gray-50\"}\n     [:div {:class \"flex-1 pr-4\"}\n      [:div {:class \"font-medium text-gray-900 text-sm\"} (:long_name role)]]\n     [:div {:class \"flex items-center space-x-2\"}\n      [:button {:style {:width \"32px\" :height \"32px\" :border-radius \"50%\" :border \"1px solid #d1d5db\" :background-color \"#ffffff\" :color \"#374151\" :cursor \"pointer\" :display \"flex\" :align-items \"center\" :justify-content \"center\" :font-size \"16px\" :font-weight \"600\" :transition \"all 0.2s\" :box-shadow \"0 1px 2px rgba(0, 0, 0, 0.05)\"}\n                :disabled (zero? count)\n                :on-click #(rf/dispatch [:update-role-count (:short_name role) (dec count)])}\n       \"\u2212\"]\n      [:div {:style {:width \"40px\" :height \"32px\" :display \"flex\" :align-items \"center\" :justify-content \"center\" :background-color \"#f9fafb\" :border \"1px solid #e5e7eb\" :border-radius \"6px\" :font-size \"14px\" :font-weight \"600\" :color \"#374151\"}} count]\n      [:button {:style {:width \"32px\" :height \"32px\" :border-radius \"50%\" :border \"1px solid #d1d5db\" :background-color \"#ffffff\" :color \"#374151\" :cursor \"pointer\" :display \"flex\" :align-items \"center\" :justify-content \"center\" :font-size \"16px\" :font-weight \"600\" :transition \"all 0.2s\" :box-shadow \"0 1px 2px rgba(0, 0, 0, 0.05)\"}\n                :on-click #(rf/dispatch [:update-role-count (:short_name role) (inc count)])}\n       \"+\"]]]))\n\n(defn agent-role-list\n  \"List of agent roles with counters\"\n  [roles role-counts]\n  [:div {:class \"border border-gray-200 rounded-lg overflow-hidden max-h-64 overflow-y-auto\"}\n   (if (seq roles)\n     (for [role (vals roles)]\n       ^{:key (:short_name role)}\n       [role-counter-row role role-counts])\n     [:div {:class \"text-gray-500 text-center py-8 px-4\"} \"Loading roles...\"])])\n\n(defn dialog-buttons\n  \"Cancel and Launch buttons for the dialog\"\n  []\n  [:div {:style {:display \"flex\" :justify-content \"flex-end\" :gap \"12px\" :margin-top \"20px\"}}\n   [:button {:style {:padding \"12px 24px\" :background-color \"#f3f4f6\" :color \"#374151\" :border \"1px solid #d1d5db\" :border-radius \"8px\" :cursor \"pointer\" :font-size \"14px\" :font-weight \"500\" :font-family \"system-ui\"}\n             :on-click #(rf/dispatch [:hide-launch-agents-dialog])}\n    \"Cancel\"]\n   [:button {:style {:padding \"12px 24px\" :background-color \"#3b82f6\" :color \"#ffffff\" :border \"1px solid #3b82f6\" :border-radius \"8px\" :cursor \"pointer\" :font-size \"14px\" :font-weight \"500\" :font-family \"system-ui\"}\n             :on-click (fn [e]\n                         (.preventDefault e)\n                         (.stopPropagation e)\n                         (rf/dispatch [:launch-agents]))}\n    \"Launch\"]])\n\n(defn dialog-content\n  \"Main dialog content container\"\n  [roles role-counts]\n  [:div {:style {:background-color \"white\" :border-radius \"8px\" :box-shadow \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\" :padding \"24px\" :max-width \"500px\" :width \"100%\" :margin \"16px\" :max-height \"80vh\" :overflow-y \"auto\"}\n         :on-click (fn [e] (.stopPropagation e))}\n   [:div {:class \"mb-6\"}\n    [agent-role-list roles role-counts]]\n   [dialog-buttons]])\n\n(defn launch-agents-dialog\n  \"Dialog for launching agents\"\n  []\n  (let [is-open? @(rf/subscribe [:launch-agents-dialog-open?])\n        roles @(rf/subscribe [:data/roles])\n        role-counts @(rf/subscribe [:role-counts])]\n    (when is-open?\n      [:div {:style {:position \"fixed\" :top \"0\" :left \"0\" :width \"100%\" :height \"100%\" :background-color \"rgba(0,0,0,0.5)\" :z-index \"9999\" :display \"flex\" :align-items \"center\" :justify-content \"center\"}\n             :on-click #(rf/dispatch [:hide-launch-agents-dialog])}\n       [dialog-content roles role-counts]])))"]}