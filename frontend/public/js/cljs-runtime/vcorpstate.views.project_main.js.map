{"version":3,"sources":["vcorpstate/views/project_main.cljs"],"mappings":";AAMA;;;kDAAA,lDAAMA;AAAN,AAGE,0BAAA,AAAAC,tBAAMC,sCAAqB,sDAAA,mFAAA,zIAACC;uBAA5B,AAAAF,nBACMG,mCAAkB,sDAAA,mFAAA,zIAACD;AADzB,AAIE,+DAAA,2CAAA,nGAACE,uLAEC;AAAA,AACE,oBAAMH;AAAN,AACE,uBAAA,mFAAA,1GAACI,4KAA2BJ;;AAC5B,8BAAA,mFAAA,1GAACI,sLAAgCJ;;AAFnC;;GAHJ,sFAQE,iBAAAK,NAAKG;AAAL,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAAYG;iBAAZ,AAAAF,4CAAAD,WAAA,IAAA,xEAAcI;AAAd,AACE,IAAAC,aAA0BD;YAA1B,AAAAH,4CAAAI,WAAA,IAAA,nEAAOF;sBAAP,AAAAF,4CAAAI,WAAA,IAAA,7EAASC;AAAT,AACE,oBAAM,iBAAAC,oBAAKb;AAAL,AAAA,oBAAAa;AACK,OAACC,gDAAKd,oBAAoBY;;AAD/BC;;;AAAN,AAEE,uBAAA,mFAAA,1GAACT,4KAA2BJ;;AAC5B,8BAAA,mFAAA,1GAACI,sLAAgCJ;;AAHnC;;GAVN,yEAgBE;AAAA,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,2BAAA,6DAAA;AAAA,AAEoB,oBAAME;AAAN,AAAuB,8BAAA,mFAAA,yFAAA,nMAACE;;AAAxB;;WAFpB,iIAAA,mFAAA,mDAAA,2CAAA,wDAAA,oDAAA,3UAKIW,8ZAICC","names":["vcorpstate.views.project-main/project-main-view","cljs.core/deref","selected-project-id","re_frame.core.subscribe","expanded-section","reagent.core.create_class","re-frame.core/dispatch","p__15249","vec__15250","cljs.core.nth","_this","_","prev-props","vec__15253","prev-project-id","and__5000__auto__","cljs.core.not_EQ_","vcorpstate.components.sidebar/sidebar","vcorpstate.components.graph/graph-component"],"sourcesContent":["(ns vcorpstate.views.project-main\n  (:require [re-frame.core :as rf]\n            [reagent.core :as r]\n            [vcorpstate.components.sidebar :as sidebar]\n            [vcorpstate.components.graph :as graph]))\n\n(defn project-main-view\n  \"Main project view with sidebar and graph\"\n  []\n  (let [selected-project-id @(rf/subscribe [:selected-project-id])\n        expanded-section @(rf/subscribe [:expanded-sidebar-section])]\n    \n    ;; Initialize project data and WebSocket when component mounts\n    (r/create-class\n     {:component-did-mount \n      (fn []\n        (when selected-project-id\n          (rf/dispatch [:project/load selected-project-id])\n          (rf/dispatch [:websocket/connect selected-project-id])))\n      \n      :component-did-update\n      (fn [_this [_ prev-props]]\n        (let [[_ prev-project-id] prev-props]\n          (when (and selected-project-id \n                     (not= selected-project-id prev-project-id))\n            (rf/dispatch [:project/load selected-project-id])\n            (rf/dispatch [:websocket/connect selected-project-id]))))\n      \n      :reagent-render\n      (fn []\n        [:div {:class \"flex h-screen bg-gray-50\"\n               :on-click #(when expanded-section (rf/dispatch [:toggle-sidebar-section nil]))}\n         \n         ;; Sidebar component\n         [sidebar/sidebar]\n         \n         ;; Main content area - now shows the graph\n         [:div {:class \"flex-1 h-full transition-all duration-300\"}\n          [graph/graph-component]]])})))"]}