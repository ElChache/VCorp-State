{"version":3,"sources":["vcorpstate/routes.cljs"],"mappings":";AAIA,AAAA,8BAAA,sCAAAA,pEAAME;AAAN,AAAA,IAAAD,UAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC;;;KAAA;AAAA,OAAAA,0DAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,CAAA,4DAAA,5DAAMD;AAAN,AAEG,OAACE,0DAAUC;;;AAFd,CAAA,4DAAA,5DAAMH,uEAGFI;AAHJ,AAAA;AAKG,IAAMC,OAAK,iBAAAC,mBAAIF;AAAJ,AAAA,oBAAAE;AAAAA;;AAAQH;;;AAAnB,AACE,GACE,kDAAA,lDAACI,6CAAEF;AADL,kDAAA,qDAAA;;AAAA,GAEE,uCAAA,vCAACG,kCAAiBH;AAClB,IAAMI,SAAO,kEAAIJ,nDAAK,wDAAA,xDAACK,fAAgBC;AAAvC,AACE,IAAAC,qBAAY,AAACE,qBAAWL;AAAxB,AAAA,oBAAAG;AAAA,SAAAA,LAASC;AAAT,AAAA,kDAAA,qDAAA,2DAAA,wDAAA,2CAAA,kDAC+BA;;AAD/B,kDAAA,qDAAA;;;AAJJ,AAAA,kDAAA,qDAAA;;;;;;AANL,CAAA,sDAAA,tDAAMb;;AAAN,AAeA,wCAAA,xCAAMe;AAAN,AAAA;AAEE,IAAMC,QAAM,AAACd;AAAb,AACE,IAAAe,UAAM,AAAA,mFAAOD;IAAbC,cAAA,EAAA,CAAAA,mBAAAC,oBAAA,AAAAD,YAAA;AAAA,AAAA,QAAAA;KAAA;AACQ,8BAAA,mFAAA,1GAACE;;;KADT;AAEW,8BAAA,mFAAA,1GAACA,wMAAwC,qDAAA,mFAAA,wDAAA,hMAACC,+CAAOJ;;;;AAF5D,MAAA,KAAAf,MAAA,CAAA,mEAAAgB;;;;AAIJ,4CAAA,5CAAMI,gGAAoBL;AAA1B,AAAA;AAEE,IAAMZ,MAAI,iBAAAkB,UAAM,AAAA,mFAAON;IAAbM,cAAA,EAAA,CAAAA,mBAAAJ,oBAAA,AAAAI,YAAA;AAAA,AAAA,QAAAA;KAAA;AAAA;;;KAAA;AAEW,QAAA,wDAAiB,qDAAA,mFAAA,wDAAA,hMAACF,+CAAOJ;;;;AAFpC,MAAA,KAAAf,MAAA,CAAA,mEAAAqB;;;;AAAV,AAGE,kBAAA,KAAA,vBAAYC,0BAAkBnB;;AAC9B,OAACW;;AAEL,sCAAA,tCAAMS;AAAN,AAAA;AAGE,AAACT;;AAGD,+BAAA,xBAAmBU,mCAAqBV","names":["var_args","G__6717","vcorpstate.routes/parse-url","js/Error","vcorpstate.routes.parse_url","js/window.location.pathname","url","path","or__5002__auto__","cljs.core._EQ_","clojure.string/starts-with?","id-str","clojure.string.split","cljs.core/last","temp__5802__auto__","id","cljs.core/parse-long","vcorpstate.routes/handle-route-change","route","G__6718","cljs.core/Keyword","re-frame.core/dispatch","cljs.core.get_in","vcorpstate.routes/navigate-to-route!","G__6719","js/history","vcorpstate.routes/init-routes!","js/window"],"sourcesContent":["(ns vcorpstate.routes\n  (:require [re-frame.core :as rf]\n            [clojure.string :as str]))\n\n(defn parse-url \n  ([]\n   (parse-url js/window.location.pathname))\n  ([url]\n   \"Parse URL and return route info\"\n   (let [path (or url js/window.location.pathname)]\n     (cond\n       (= path \"/\") {:name :home}\n       (str/starts-with? path \"/project/\") \n       (let [id-str (-> path (str/split #\"/\") last)]\n         (if-let [id (parse-long id-str)]\n           {:name :project :params {:id id}}\n           {:name :home}))\n       :else {:name :home}))))\n\n(defn handle-route-change []\n  \"Handle route changes and dispatch appropriate events\"\n  (let [route (parse-url)]\n    (case (:name route)\n      :home (rf/dispatch [:navigate-to-home])\n      :project (rf/dispatch [:navigate-to-project-by-id (get-in route [:params :id])]))))\n\n(defn navigate-to-route! [route]\n  \"Navigate to a route and update browser history\"\n  (let [url (case (:name route)\n              :home \"/\"\n              :project (str \"/project/\" (get-in route [:params :id])))]\n    (.pushState js/history nil \"\" url)\n    (handle-route-change)))\n\n(defn init-routes! []\n  \"Initialize routing\"\n  ;; Handle initial page load\n  (handle-route-change)\n  \n  ;; Handle browser back/forward buttons\n  (.addEventListener js/window \"popstate\" handle-route-change))"]}