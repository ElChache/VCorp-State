{"version":3,"sources":["vcorpstate/http.cljs"],"mappings":";AAIA,+BAAA,/BAAKA;AAGL;;;4CAAA,5CAAMC,gGAEHC;AAFH,AAGE,6OAAA,2CAAA,2DAAA,WAAAC,vVAACE,mDAAS,8BAAA,yEAAA,tGAAKL,0FAA8BE;AAA7C,AACa,8BAAA,mFAAA,+EAAAC,zLAACG;GADd,uEAAA,WAAAF;AAAA,AAEmB,8BAAA,mFAAA,+EAAAA,zLAACE;GAFpB,0FAAA,hCAGW,AAACC,2GACQ,+BAAA,2CAAA,8DAAA,xIAACC;;AAEvB;;;0CAAA,1CAAMC,4FAEHC;AAFH,AAGE,8OAAA,2CAAA,2DAAA,WAAAC,xVAACN,mDAAS,8BAAA,+EAAA,5GAAKL,6FAAiCU;AAAhD,AACa,8BAAA,mFAAA,0GAAAC,pNAACL,sMAAwCI;GADtD,uEAAA,WAAAE;AAAA,AAEmB,8BAAA,mFAAA,0GAAAA,pNAACN,sMAAwCI;GAF5D,0FAAA,hCAGW,AAACH,2GACQ,+BAAA,2CAAA,8DAAA,xIAACC;;AAEvB;;;mCAAA,nCAAMK,8EAEHC;AAFH,AAGE,gOAAA,2CAAA,2DAAA,WAAAC,1UAACV,mDAAS,8BAAA,iEAAA,9FAAKL,sFAA0Bc;AAAzC,AACa,8BAAA,mFAAA,qFAAAC,/LAACT,wLAAiCQ;GAD/C,uEAAA,WAAAE;AAAA,AAEmB,8BAAA,mFAAA,qFAAAA,/LAACV,wLAAiCQ;GAFrD,0FAAA,hCAGW,AAACP,2GACQ,+BAAA,2CAAA,8DAAA,xIAACC;;AAEvB;;;iCAAA,jCAAMS,0EAEHC;AAFH,AAGE,qKAAA,2CAAA,2oBAAA,2DAAA,WAAAC,15BAACE,oDAAU,8BAAA,7BAAKrB,gRACDkB,tBACA,mCAAA,mFAAA,qDAAA,oEAAA,qDAAA,pSAACI,9CACD,kaAAA,laAACC,keAAkB,AAAA,kGAAcL;AAHhD,AAIa,8BAAA,mFAAA,yFAAAC,nMAACb;GAJd,uEAAA,WAAAc;AAAA,AAKmB,8BAAA,mFAAA,qFAAAA,/LAACd;GALpB,0FAAA,hCAMW,AAACC,2GACQ,+BAAA,2CAAA,8DAAA,xIAACC;;AAEvB;;;gCAAA,hCAAMgB,wEAEHtB,WAAWuB,KAAKC;AAFnB,AAGE,0KAAA,2CAAA,wDAAA,2CAAA,2EAAA,0DAAA,qEAAA,2DAAA,WAAAC,jkBAACN,oDAAU,8BAAA,7BAAKrB,4TACOE,gEACLuB,4DACCC;AAHnB,AAIa,8BAAA,mFAAA,yFAAAC,nMAACrB,8LAAoCmB;GAJlD,uEAAA,WAAAG;AAAA,AAKmB,8BAAA,mFAAA,oFAAAA,9LAACtB,yLAAkCmB;GALtD,0FAAA,hCAMW,AAAClB,2GACQ,+BAAA,2CAAA,8DAAA,xIAACC;;AAEvB;;;yCAAA,zCAAMqB,0FAEHC,cAAcC;AAFjB,AAGE,2OAAA,2CAAA,wDAAA,2CAAA,yEAAA,2DAAA,WAAAC,jgBAACE,mDAAS,8BAAA,6EAAA,1GAAKlC,2FAA+B8B,6RAC1BC;AADpB,AAEa,8BAAA,mFAAA,6GAAAC,vNAAC1B,kMAAsCwB,cAAcC;GAFlE,uEAAA,WAAAE;AAAA,AAGmB,8BAAA,mFAAA,kHAAAA,5NAAC3B,8MAA4CwB;GAHhE,0FAAA,hCAIW,AAACvB,2GACQ,+BAAA,2CAAA,8DAAA,xIAACC","names":["vcorpstate.http/api-base-url","vcorpstate.http/load-project-initial-data","project-id","p1__12410#","p1__12411#","ajax.core.GET","re-frame.core/dispatch","ajax.core/json-request-format","ajax.core/json-response-format","vcorpstate.http/load-collection-details","collection-id","p1__12417#","p1__12418#","vcorpstate.http/load-job-details","job-id","p1__12423#","p1__12424#","vcorpstate.http/create-project","project-data","p1__12425#","p1__12426#","ajax.core.POST","cljs.core/select-keys","cljs.core.assoc","vcorpstate.http/launch-agents","role","count","p1__12427#","p1__12428#","vcorpstate.http/update-document-status","document-slug","status","p1__12429#","p1__12430#","ajax.core.PUT"],"sourcesContent":["(ns vcorpstate.http\n  (:require [ajax.core :as ajax]\n            [re-frame.core :as rf]))\n\n(def api-base-url \"http://localhost:3001\")\n\n;; HTTP client for REST API calls\n(defn load-project-initial-data\n  \"Load all initial data for a project in a single API call\"\n  [project-id]\n  (ajax/GET (str api-base-url \"/api/projects/\" project-id \"/initial-data\")\n    {:handler #(rf/dispatch [:data/project-loaded %])\n     :error-handler #(rf/dispatch [:data/project-failed %])\n     :format (ajax/json-request-format)\n     :response-format (ajax/json-response-format {:keywords? true})}))\n\n(defn load-collection-details\n  \"Load detailed information for a specific collection\"\n  [collection-id]\n  (ajax/GET (str api-base-url \"/api/collections/\" collection-id \"/details\")\n    {:handler #(rf/dispatch [:collection/details-loaded collection-id %])\n     :error-handler #(rf/dispatch [:collection/details-failed collection-id %])\n     :format (ajax/json-request-format)\n     :response-format (ajax/json-response-format {:keywords? true})}))\n\n(defn load-job-details\n  \"Load detailed information for a specific job\"\n  [job-id]\n  (ajax/GET (str api-base-url \"/api/jobs/\" job-id \"/details\")\n    {:handler #(rf/dispatch [:job/details-loaded job-id %])\n     :error-handler #(rf/dispatch [:job/details-failed job-id %])\n     :format (ajax/json-request-format)\n     :response-format (ajax/json-response-format {:keywords? true})}))\n\n(defn create-project\n  \"Create a new project\"\n  [project-data]\n  (ajax/POST (str api-base-url \"/api/projects\")\n    {:params (-> project-data\n                 (select-keys [:name :description :path :github_origin])\n                 (assoc :templateId (:template_id project-data)))\n     :handler #(rf/dispatch [:create-project-success %])\n     :error-handler #(rf/dispatch [:create-project-error %])\n     :format (ajax/json-request-format)\n     :response-format (ajax/json-response-format {:keywords? true})}))\n\n(defn launch-agents\n  \"Launch agents for a project role\"\n  [project-id role count]\n  (ajax/POST (str api-base-url \"/api/agents/launch\")\n    {:params {:projectId project-id\n              :role role\n              :count count}\n     :handler #(rf/dispatch [:agents/launch-success role %])\n     :error-handler #(rf/dispatch [:agents/launch-error role %])\n     :format (ajax/json-request-format)\n     :response-format (ajax/json-response-format {:keywords? true})}))\n\n(defn update-document-status\n  \"Update document status (ready/not ready)\"\n  [document-slug status]\n  (ajax/PUT (str api-base-url \"/api/documents/\" document-slug \"/status\")\n    {:params {:status status}\n     :handler #(rf/dispatch [:document/status-updated document-slug status %])\n     :error-handler #(rf/dispatch [:document/status-update-failed document-slug %])\n     :format (ajax/json-request-format)\n     :response-format (ajax/json-response-format {:keywords? true})}))"]}